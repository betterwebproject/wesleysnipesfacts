<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, interactive-widget=resizes-content">
        <meta name="color-scheme" content="light dark">
        <link rel="preload" href="/posts.json" as="fetch" crossorigin="anonymous">
        <link rel="preload" href="/assets/type/triptych_grotesque.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/assets/type/triptych_roman.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/assets/type/triptych_italick.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="stylesheet" href="/assets/css/style.css">   
        <link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="32x32">
        <link rel="icon" href="/favicon.svg" type="image/svg+xml" sizes="any">
        <link rel="apple-touch-icon" href="/assets/icons/apple_touch_icon.png" type="image/png">
        <link rel="manifest" href="/manifest.json" type="application/json">
        <link rel="canonical" href="https://wesleysnipesfacts.com">
        <title>Wesley Snipes Facts™</title>   
        <meta name="description" content="Your Home for Wesley Snipes Fact Checks!">
        <meta name="thumbnail" content="https://wesleysnipesfacts.com/assets/graphics/share.webp">
        <meta property="og:site_name" content="Wesley Snipes Facts™">
        <meta property="og:title" content="Wesley Snipes Facts™">
        <meta property="og:description" content="Your Home for Wesley Snipes Fact Checks!">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://wesleysnipesfacts.com">
        <meta property="og:image" content="https://wesleysnipesfacts.com/assets/graphics/share.webp">
        <meta property="og:image:type" content="image/webp">
        <meta property="og:image:width" content="720">
        <meta property="og:image:height" content="720">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https://wesleysnipes.com/assets/graphics/share.webp">
        <meta name="twitter:title" content="Wesley Snipes Facts">
        <meta name="twitter:description" content="Your Home for Wesley Snipes Fact Checks!">
        <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "WebPage",
                "name": "Wesley Snipes Facts™",
                "description": "Your Home for Wesley Snipes Facts Checks!",
                "url": "https://wesleysnipesfacts.com",
                "image": "https://wesleysnipesfacts.com/assets/graphics/share.webp",
                "width": 1200,
                "height": 800
            }
        </script>
    </head>
    <body>
        <header class="header-big">
            <img class="header-image" src="/assets/graphics/header_img.webp" alt="Image of Wesley Snipes, with Kwanzaa facepaint and his Egyptian rod, in a jail cell for tax evasion" width="500" height="500">
            <h1 class="site-title-big">Wesley Snipes Facts<sup>TM</sup></h1>
            <h2 class="site-description">Your Home for Wesley Snipes Facts Checks!</h2>
            <nav>
                <ul class="margins-off">
                    <li>
                        <a href="/about.html">About</a>
                    </li>
                    <li>
                        <a href="/death.html">Death</a>
                    </li>
                    <li>
                        <a href="/taxes">Taxes</a>
                    </li>
                    <li>
                        <a href="/faq">FAQ</a>   
                    </li>
                </ul>
            </nav>
        </header>
        <main class="margins-off">
            <div class="tag-search-container">
                <form id="tag-search-form" autocomplete="off">
                    <input type="text" id="tag-search-input" placeholder="Search by fact or tag">
                </form>
                <div id="tag-search-error"></div>
            </div>
            <div id="blogroll"></div>
        </main>
        <footer>
            <div class="footer-inner">
                <a href="statement">Read Me</a>
                <a href="/rss.xml">RSS</a>
            </div>
        </footer>   
        <script src="/assets/js/main.js" defer></script>
        <!-- Debug helper: enable by adding ?debug=1 to the URL (non-invasive) -->
        <script>
            (function() {
                try {
                    const params = new URLSearchParams(window.location.search);
                    if (params.get('debug') !== '1') return;

                    // Log helper
                    function rectInfo(el) {
                        if (!el) return null;
                        const r = el.getBoundingClientRect();
                        return { w: Math.round(r.width), h: Math.round(r.height), top: Math.round(r.top), left: Math.round(r.left) };
                    }

                    const targets = {
                        doc: document.documentElement,
                        body: document.body,
                        header: document.querySelector('header'),
                        search: document.querySelector('.tag-search-container'),
                        blogroll: document.getElementById('blogroll'),
                    };

                    console.log('[layout-debug] initial sizes', {
                        viewport: { w: window.innerWidth, h: window.innerHeight },
                        doc: rectInfo(targets.doc),
                        body: rectInfo(targets.body),
                        header: rectInfo(targets.header),
                        search: rectInfo(targets.search),
                        blogroll: rectInfo(targets.blogroll),
                    });

                    // MutationObserver to see inserts into blogroll
                    const mo = new MutationObserver((mutations) => {
                        mutations.forEach(m => {
                            if (m.addedNodes && m.addedNodes.length) {
                                console.log('[layout-debug][mutation] addedNodes', m.addedNodes.length, ' at', Date.now(), { blogroll: rectInfo(targets.blogroll) });
                                highlightTemporary(targets.blogroll);
                            }
                        });
                    });
                    if (targets.blogroll) mo.observe(targets.blogroll, { childList: true, subtree: true });

                    // ResizeObserver for key elements
                    const ro = new (window.ResizeObserver || function() { return { observe: function(){}, disconnect: function(){} }; })((entries) => {
                        for (const e of entries) {
                            const el = e.target;
                            console.log('[layout-debug][resize]', el === document.body ? 'body' : el.id || el.className || el.tagName, '=>', rectInfo(el), 'at', Date.now());
                            highlightTemporary(el);
                        }
                    });
                    Object.values(targets).forEach(t => { if (t) ro.observe(t); });

                    // PerformanceObserver for layout-shift (Chromium)
                    if ('PerformanceObserver' in window) {
                        try {
                            const po = new PerformanceObserver((list) => {
                                for (const entry of list.getEntries()) {
                                    if (entry.entryType === 'layout-shift') {
                                        console.log('[layout-debug][layout-shift]', entry, 'at', Date.now());
                                    }
                                }
                            });
                            po.observe({ type: 'layout-shift', buffered: true });
                            console.log('[layout-debug] PerformanceObserver for layout-shift active (Chromium browsers)');
                        } catch (e) {
                            console.log('[layout-debug] PerformanceObserver not available for layout-shift', e);
                        }
                    }

                    // Highlight function
                    function highlightTemporary(el) {
                        if (!el || el._layoutDebugHighlight) return;
                        const origOutline = el.style.outline;
                        el._layoutDebugHighlight = true;
                        el.style.outline = '3px dashed red';
                        setTimeout(() => {
                            el.style.outline = origOutline || '';
                            el._layoutDebugHighlight = false;
                        }, 700);
                    }

                    // Log clicks/focus to correlate user actions
                    ['click','touchstart','focusin'].forEach(evt => {
                        window.addEventListener(evt, (e) => {
                            try {
                                console.log(`[layout-debug][event] ${evt}`, e.target && (e.target.id || e.target.className || e.target.tagName), 'viewport', { w: window.innerWidth, h: window.innerHeight }, 'time', Date.now());
                            } catch (err) {}
                        }, { capture: true });
                    });

                    console.log('[layout-debug] observers active — reproduce the issue and capture console logs (use remote device debugging if testing on mobile).');
                } catch (err) {
                    console.error('layout-debug init failed', err);
                }
            })();
        </script>
    </body>
</html>